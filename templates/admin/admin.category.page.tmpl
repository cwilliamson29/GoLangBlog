<!doctype html>
<html lang="en">
{{template "headerInclude" .}}
<body>
{{template "adminSidebar" .}}
{{template "adminNavbar" .}}
<main style="margin-top: 58px">
    <div class="container pt-4">
        <!-- Content goes here -->
        <div class="row">
            <div class="col-sm-10 col-md-10 col-lg-8 pt-2">
                <div class="card">
                    <div class="card-header bg-primary text-light">
                        <h1>Category Overview</h1>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            {{$subcat := .Data2}}
                            {{ range $key, $cat := .Data}}
                                <div class="col-3">
                                    <div class="bg-light rounded-3 border">
                                        <div class="bg-info p-1 rounded-top-3">
                                            <div class="fs-2 bold">{{$cat.Name}}</div>
                                            <div class="fs-6">Category ID:{{$cat.ID}}</div>
                                        </div>
                                        <ul class="pt-1 pb-2">
                                            {{range $key, $scat := $subcat}}
                                                {{if eq $scat.ParentCat $cat.ID }}
                                                    <li>{{$scat.Name}} - ID: {{$scat.ID}}</li>
                                                {{end}}
                                            {{end}}
                                        </ul>

                                    </div>
                                </div>
                            {{end}}
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-10 col-md-10 col-lg-8 pt-3">
                <div class="card">
                    <div class="card-header bg-primary text-light">
                        <h3>Add A Category</h3>
                    </div>
                    <div class="card-body">
                        <form method="post" action="/admin/category/add">
                            <div class="row">
                                <div class="col-3 text-end">
                                    <label for="name">Category Name:</label>
                                </div>
                                <div class="col-9">
                                    <input type="text" class="form-control" id="name" name="name"
                                           placeholder="Italian Food">
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-12 mt-3 text-center">
                                    {{with .CateAdd.error}}
                                        <label class="text-danger">{{.}}</label>
                                    {{end}}
                                </div>
                                <div class="col-12 mt-3 text-center">
                                    {{with .CateAdd.success}}
                                        <label class="text-success">{{.}}</label>
                                    {{end}}
                                </div>
                                <div class="col-12 mt-3 text-center">
                                    <button class="w-50 btn btn-lg btn-primary" type="submit">
                                        Create Category
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-10 col-md-10 col-lg-8 pt-3">
                <div class="card">
                    <div class="card-header bg-primary text-light">
                        <h3>Add A Sub Category</h3>
                    </div>
                    <div class="card-body">
                        <form method="post" action="/admin/category/subadd">
                            <div class="row">
                                <div class="col-3 text-end">
                                    <label for="name">Sub Category Name:</label>
                                </div>
                                <div class="col-9">
                                    <input type="text" class="form-control" id="name" name="name"
                                           placeholder="Italian Food">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3 text-end">
                                    <label for="category_id">Select Category:</label>
                                </div>
                                <div class="col-9">
                                    <select name="category_id" id="category_id">
                                        {{ range $key, $cat := .Data}}
                                            <option value="{{$cat.ID}}">{{$cat.ID}} - {{$cat.Name}}</option>
                                        {{end}}
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-12 mt-3 text-center">
                                    {{with .CateAdd.error}}
                                        <label class="text-danger">{{.}}</label>
                                    {{end}}
                                </div>
                                <div class="col-12 mt-3 text-center">
                                    {{with .CateAdd.success}}
                                        <label class="text-success">{{.}}</label>
                                    {{end}}
                                </div>
                                <div class="col-12 mt-3 text-center">
                                    <button class="w-50 btn btn-lg btn-primary" type="submit">
                                        Create Sub Category
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
        <!----------------------->
    </div>
</main>

{{template "footerInclude" .}}
</body>
</html>